---
title: Hammerspoon実践活用：Mac作業効率を劇的に向上させる自動化レシピ集
tags:
  - Hammerspoon
  - Mac
  - 自動化
  - 効率化
  - lua
  - 生産性
private: false
updated_at: "'2025-01-28T23:29:18.564Z'"
id: null
organization_url_name: null
slide: false
ignorePublish: false
---

# Hammerspoon実践活用：Mac作業効率を劇的に向上させる自動化レシピ集

この記事では、Macの作業効率を劇的に向上させるための強力なツール、Hammerspoonの実践的な活用法を紹介します。Hammerspoonは、Luaスクリプトを用いてMacの様々な操作を自動化できる高度なカスタマイズツールです。この記事を読むことで、日々の作業で繰り返し行う操作を自動化し、時間と労力を大幅に削減できるようになります。具体的なコード例と詳細な解説を通じて、Hammerspoonの導入から実践的な活用までを網羅的に解説します。

## 1. Hammerspoonとは？導入と基本設定

### Hammerspoonの概要

Hammerspoonは、macOS上で動作するオープンソースの自動化ツールです。Luaスクリプトを用いて、ウィンドウ管理、キーボードショートカット、マウス操作、アプリケーション制御など、多岐にわたる操作を自動化できます。

### インストール方法

Hammerspoonの公式サイト([http://www.hammerspoon.org/](http://www.hammerspoon.org/))から最新版をダウンロードし、インストールしてください。インストール後、`~/.hammerspoon/init.lua` に設定を記述します。

### 基本設定：`init.lua`の記述例

```lua
-- キーバインドの例：アプリケーションの起動
hs.hotkey.bind({"cmd", "shift"}, "t", function()
  hs.application.launchOrFocus("Terminal")
end)

-- ウィンドウ移動の例：左半分に移動
hs.hotkey.bind({"cmd", "alt"}, "left", function()
  local win = hs.window.focusedWindow()
  local screen = win:screen()
  local rect = screen:frame()
  win:setFrame({x = rect.x, y = rect.y, w = rect.w / 2, h = rect.h})
end)
```

上記は基本的な設定例です。`hs.hotkey.bind()`でキーバインドを定義し、`hs.application.launchOrFocus()`や`hs.window.focusedWindow()`などのHammerspoonのAPIを利用して、具体的な操作を実装します。

### 注意点

- `init.lua` の変更後は、Hammerspoonの設定をリロード（メニューバーのアイコンから「Reload Config」を選択）する必要があります。
- 初めてHammerspoonを利用する際は、macOSのアクセシビリティ設定でHammerspoonを許可する必要があります。

## 2. ウィンドウ管理を自動化する

### ウィンドウ配置の自動化

Hammerspoonを使うことで、特定のキーボードショートカットでウィンドウを画面の左半分、右半分、最大化などに自動的に配置できます。

```lua
-- ウィンドウを左半分に移動
hs.hotkey.bind({"cmd", "alt"}, "left", function()
  local win = hs.window.focusedWindow()
  local screen = win:screen()
  local rect = screen:frame()
  win:setFrame({x = rect.x, y = rect.y, w = rect.w / 2, h = rect.h})
end)

-- ウィンドウを右半分に移動
hs.hotkey.bind({"cmd", "alt"}, "right", function()
  local win = hs.window.focusedWindow()
  local screen = win:screen()
  local rect = screen:frame()
  win:setFrame({x = rect.x + rect.w / 2, y = rect.y, w = rect.w / 2, h = rect.h})
end)

-- ウィンドウを最大化
hs.hotkey.bind({"cmd", "alt"}, "m", function()
  local win = hs.window.focusedWindow()
  local screen = win:screen()
  win:setFrame(screen:frame())
end)
```

### 複数ディスプレイ環境でのウィンドウ移動

複数のディスプレイを使用している場合、ウィンドウを特定のディスプレイに移動させることも可能です。

```lua
-- ウィンドウを次のディスプレイに移動
hs.hotkey.bind({"cmd", "alt"}, "n", function()
  local win = hs.window.focusedWindow()
  local currentScreen = win:screen()
  local screens = hs.screen.allScreens()
  local currentIndex = 0
  for i, screen in ipairs(screens) do
    if screen == currentScreen then
      currentIndex = i
      break
    end
  end
  local nextIndex = (currentIndex % #screens) + 1
  win:moveToScreen(screens[nextIndex])
end)
```

### 注意点

- ディスプレイの構成によっては、期待通りにウィンドウが移動しない場合があります。
- `hs.screen.allScreens()`で取得できるディスプレイの順番は、macOSの設定に依存します。

## 3. アプリケーション操作を効率化する

### 特定のアプリケーションを起動・フォーカスする

キーボードショートカットでアプリケーションを起動したり、既に起動している場合はフォーカスを当てることができます。

```lua
-- Terminalを起動またはフォーカス
hs.hotkey.bind({"cmd", "shift"}, "t", function()
  hs.application.launchOrFocus("Terminal")
end)

-- Chromeを起動またはフォーカス
hs.hotkey.bind({"cmd", "shift"}, "c", function()
  hs.application.launchOrFocus("Google Chrome")
end)
```

### アプリケーションの切り替え

`hs.application.switchToApplication()`を使って、キーボードショートカットでアプリケーションを切り替えることも可能です。

```lua
-- 次のアプリケーションに切り替え
hs.hotkey.bind({"cmd", "alt"}, "tab", function()
  local currentApp = hs.application.frontmostApplication()
  local apps = hs.application.runningApplications()
  local currentIndex = 0
  for i, app in ipairs(apps) do
    if app == currentApp then
      currentIndex = i
      break
    end
  end
  local nextIndex = (currentIndex % #apps) + 1
  apps[nextIndex]:activate()
end)
```

### 注意点

- アプリケーションの名前は正確に指定する必要があります。
- アプリケーションの切り替えは、起動しているアプリケーションの順番に依存します。

## 4. テキスト操作を自動化する

### クリップボード操作の効率化

クリップボードの履歴を管理したり、特定のテキストをペーストする操作を自動化できます。

```lua
-- クリップボード履歴の表示 (例)
hs.hotkey.bind({"cmd", "shift"}, "v", function()
  -- ここにクリップボード履歴を表示する処理を記述
  -- 例: hs.pasteboard.getContents()で履歴を取得し、表示する
  -- 実装は別途必要
  hs.alert.show("クリップボード履歴を表示する処理は未実装です")
end)

-- 特定のテキストをペースト
hs.hotkey.bind({"cmd", "shift"}, "p", function()
  hs.pasteboard.setContents("example@example.com")
  hs.eventtap.keyStroke({"cmd"}, "v")
end)
```

### テキスト入力の自動化

よく使うテキストをキーボードショートカットで入力できます。

```lua
-- 特定のテキストを入力
hs.hotkey.bind({"cmd", "shift"}, "e", function()
  hs.eventtap.text("Hello, World!")
end)
```

### 注意点

- クリップボード履歴の管理は、別途ライブラリや実装が必要です。
- `hs.eventtap.text()`は、入力中のアプリケーションにテキストを入力します。

## 5. その他の便利な自動化レシピ

### スクリーンショットの自動保存

スクリーンショットを撮った際に、特定の場所に自動的に保存する設定が可能です。

```lua
-- スクリーンショットを特定のフォルダに保存
hs.hotkey.bind({"cmd", "shift"}, "4", function()
  local date = os.date("%Y%m%d%H%M%S")
  local path = "~/Pictures/Screenshots/" .. date .. ".png"
  hs.screen.captureToPath(path)
end)
```

### タイマーやリマインダーの自動化

特定の時間になったら通知を表示したり、特定の操作を実行する設定も可能です。

```lua
-- 30分後に通知を表示
hs.hotkey.bind({"cmd", "shift"}, "r", function()
  hs.timer.doAfter(30 * 60, function()
    hs.alert.show("休憩時間です！")
  end)
end)
```

### 注意点

- スクリーンショットの保存先フォルダは、事前に作成しておく必要があります。
- タイマーは、Hammerspoonが起動している間のみ有効です。

## 6. トラブルシューティングと注意点

### 設定が反映されない場合

- `init.lua` を変更した後は、Hammerspoonの設定をリロードする必要があります。
- アクセシビリティ設定でHammerspoonが許可されているか確認してください。
- 設定ファイルに構文エラーがないか確認してください。

### 動作が不安定な場合

- Hammerspoonのバージョンが最新か確認してください。
- 他のアプリケーションとの競合がないか確認してください。
- 設定ファイルが複雑すぎる場合は、一度シンプルな設定で試してみてください。

### 参考リンク

- Hammerspoon 公式サイト: [http://www.hammerspoon.org/](http://www.hammerspoon.org/)
- Hammerspoon ドキュメント: [http://www.hammerspoon.org/docs/](http://www.hammerspoon.org/docs/)
- Hammerspoon Examples: [https://github.com/Hammerspoon/hammerspoon/wiki/Sample-Configurations](https://github.com/Hammerspoon/hammerspoon/wiki/Sample-Configurations)

## まとめ

Hammerspoonは、Macの作業効率を劇的に向上させるための強力なツールです。この記事で紹介した例を参考に、ぜひ自分だけの自動化レシピを開発してみてください。Hammerspoonの可能性は無限大です。積極的に活用して、快適なMacライフを送りましょう。
